/* eslint-disable no-unused-vars */
/*
 * Install the Generative AI SDK
 *
 * $ npm install @google/generative-ai
 */

import {
  GoogleGenerativeAI,
  HarmCategory,
  HarmBlockThreshold,
} from '@google/generative-ai'

const apiKey = import.meta.env.VITE_GOOGLE_GIMNI_API_KEY
const genAI = new GoogleGenerativeAI(apiKey)

const model = genAI.getGenerativeModel({
  model: 'gemini-1.5-flash',
})

const generationConfig = {
  temperature: 1,
  topP: 0.95,
  topK: 64,
  maxOutputTokens: 8192,
  responseMimeType: 'application/json',
}

export const chatSession = model.startChat({
  generationConfig,
  // safetySettings: Adjust safety settings
  // See https://ai.google.dev/gemini-api/docs/safety-settings
  history: [
    {
      role: 'user',
      parts: [
        {
          text:
            'Generate Travel Plan for Locatim : Las Vegas. for 3 Days for Couple with a Cheap budget ,Give me a Hotels options list with HotelName, Hotel address, Price, hotel image url, geo coordinates, rating, descriptions and suggest itinerary with placeName, Place Details, Place Image Url, Geo Coordinates, ticket Pricing, rating, Time travel each of the location for 3 days with each day plan with best time to visit JSON format.',
        },
      ],
    },
    {
      role: 'model',
      parts: [
        {
          text:
            '## Las Vegas 3-Day Budget Trip for a Couple:\n\n**Budget:** This itinerary is designed for a budget-conscious couple.\n\n**Hotel Options:**\n\nHere are some affordable hotel options with details:\n\n| Hotel Name | Hotel Address | Price (approx.) | Hotel Image URL | Geo Coordinates | Rating | Description |\n|---|---|---|---|---|---|---|\n| **The D Las Vegas** | 301 Fremont Street, Las Vegas, NV 89101 | $40-$70 | [https://www.the-d.com/media/images/hotel/exterior/main-exterior.jpg](https://www.the-d.com/media/images/hotel/exterior/main-exterior.jpg) | 36.1699, -115.1428 | 4.0 | A vibrant and affordable hotel located in the heart of Fremont Street. Offers free live entertainment and a lively atmosphere. |\n| **The Golden Nugget Las Vegas** | 129 E Fremont Street, Las Vegas, NV 89101 | $50-$90 | [https://www.golden nugget.com/las-vegas/media/images/hotel/exterior/exterior.jpg](https://www.golden nugget.com/las-vegas/media/images/hotel/exterior/exterior.jpg) | 36.1695, -115.1416 | 4.5 | A historic hotel with luxurious amenities, a famous shark tank, and a prime location on Fremont Street. |\n| **Circus Circus Hotel & Casino** | 2880 Las Vegas Boulevard South, Las Vegas, NV 89109 | $30-$60 | [https://www.circuscircus.com/media/images/hotel/exterior/hotel-exterior-daytime-01.jpg](https://www.circuscircus.com/media/images/hotel/exterior/hotel-exterior-daytime-01.jpg) | 36.1173, -115.1727 | 3.5 | A budget-friendly hotel known for its circus-themed entertainment, amusement park, and family-friendly atmosphere. |\n| **Main Street Station Casino, Brewery & Hotel** | 200 N. Main Street, Las Vegas, NV 89101 | $35-$70 | [https://www.mainstreetstation.com/media/images/hotel/exterior/main-exterior-daytime-01.jpg](https://www.mainstreetstation.com/media/images/hotel/exterior/main-exterior-daytime-01.jpg) | 36.1702, -115.1384 | 4.0 | A unique hotel with a vintage railroad theme, featuring a brewery, a poker room, and a charming atmosphere. |\n\n**Day 1: Fremont Street Experience & Downtown Charm**\n\n* **Morning (9:00 AM):** Start your day with breakfast at **The D Las Vegas** (36.1699, -115.1428). Enjoy a classic American breakfast at the **D Bar** for a budget-friendly option. (Price: $10-$20)\n* **Morning (10:00 AM):** Walk to the **Fremont Street Experience** (36.1694, -115.1418), a vibrant pedestrian mall with live music, street performers, and the iconic Viva Vision light show. \n* **Afternoon (12:00 PM):** Head to **The Golden Nugget** (36.1695, -115.1416) for lunch. Try the **Herd** restaurant for delicious casual bites. (Price: $15-$30)\n* **Afternoon (1:00 PM):** Explore the **Gold & Silver Pawn Shop** (36.1696, -115.1433) from the popular TV show "Pawn Stars." \n* **Evening (5:00 PM):** Enjoy happy hour at **Binion\'s Gambling Hall** (36.1693, -115.1429) for their famous cocktails and appetizers.\n* **Evening (7:00 PM):** Have dinner at **The Fremont Street Cafe** (36.1699, -115.1420) for a taste of authentic Las Vegas cuisine. (Price: $20-$40)\n\n**Day 2: The Strip & Entertainment**\n\n* **Morning (10:00 AM):** Take a free shuttle bus from Downtown to the **Las Vegas Strip** (36.1135, -115.1735).\n* **Morning (11:00 AM):** Walk along the Strip, admire the iconic hotels and take pictures with the Bellagio Fountains (36.1106, -115.1716) during a show. (Free)\n* **Afternoon (1:00 PM):** Enjoy lunch at the **Food Court** in the **New York New York Hotel** (36.1006, -115.1709) for diverse and affordable options. (Price: $10-$20)\n* **Afternoon (2:00 PM):** Visit the **High Roller Observation Wheel** (36.1198, -115.1732',
        },
      ],
    },
    {
      role: 'user',
      parts: [
        {
          text:
            'Generate Travel Plan for Location: Las Vegas. for 3 Days for Couple with a Cheap budget ,Give me a Hotels options list with\nHotelName, Hotel address, Price, hotel image url, geo coordinates, rating, descriptions and suggest itinerary with placeName, Place\nDetails, Place Image Url, Geo Coordinates, ticket Pricing, rating, Time travel each of the location for 3 days with each day plan with\nbest time to visit  in JSON format',
        },
      ],
    },
    {
      role: 'model',
      parts: [
        {
          text:
            '```json\n{\n  "location": "Las Vegas",\n  "tripDuration": "3 days",\n  "budget": "cheap",\n  "travelers": "couple",\n  "hotels": [\n    {\n      "hotelName": "The D Las Vegas",\n      "hotelAddress": "301 Fremont Street, Las Vegas, NV 89101",\n      "price": "$40-$70",\n      "hotelImageURL": "https://www.the-d.com/media/images/hotel/exterior/main-exterior.jpg",\n      "geoCoordinates": "36.1699, -115.1428",\n      "rating": 4.0,\n      "description": "A vibrant and affordable hotel located in the heart of Fremont Street. Offers free live entertainment and a lively atmosphere."\n    },\n    {\n      "hotelName": "The Golden Nugget Las Vegas",\n      "hotelAddress": "129 E Fremont Street, Las Vegas, NV 89101",\n      "price": "$50-$90",\n      "hotelImageURL": "https://www.golden nugget.com/las-vegas/media/images/hotel/exterior/exterior.jpg",\n      "geoCoordinates": "36.1695, -115.1416",\n      "rating": 4.5,\n      "description": "A historic hotel with luxurious amenities, a famous shark tank, and a prime location on Fremont Street."\n    },\n    {\n      "hotelName": "Circus Circus Hotel & Casino",\n      "hotelAddress": "2880 Las Vegas Boulevard South, Las Vegas, NV 89109",\n      "price": "$30-$60",\n      "hotelImageURL": "https://www.circuscircus.com/media/images/hotel/exterior/hotel-exterior-daytime-01.jpg",\n      "geoCoordinates": "36.1173, -115.1727",\n      "rating": 3.5,\n      "description": "A budget-friendly hotel known for its circus-themed entertainment, amusement park, and family-friendly atmosphere."\n    },\n    {\n      "hotelName": "Main Street Station Casino, Brewery & Hotel",\n      "hotelAddress": "200 N. Main Street, Las Vegas, NV 89101",\n      "price": "$35-$70",\n      "hotelImageURL": "https://www.mainstreetstation.com/media/images/hotel/exterior/main-exterior-daytime-01.jpg",\n      "geoCoordinates": "36.1702, -115.1384",\n      "rating": 4.0,\n      "description": "A unique hotel with a vintage railroad theme, featuring a brewery, a poker room, and a charming atmosphere."\n    }\n  ],\n  "itinerary": [\n    {\n      "day": 1,\n      "dayPlan": [\n        {\n          "time": "9:00 AM",\n          "placeName": "The D Las Vegas",\n          "placeDetails": "Enjoy a classic American breakfast at the D Bar for a budget-friendly option.",\n          "placeImageURL": "https://www.the-d.com/media/images/hotel/exterior/main-exterior.jpg",\n          "geoCoordinates": "36.1699, -115.1428",\n          "ticketPricing": "$10-$20",\n          "rating": 4.0,\n          "bestTimeToVisit": "Morning"\n        },\n        {\n          "time": "10:00 AM",\n          "placeName": "Fremont Street Experience",\n          "placeDetails": "A vibrant pedestrian mall with live music, street performers, and the iconic Viva Vision light show.",\n          "placeImageURL": "https://upload.wikimedia.org/wikipedia/commons/thumb/4/47/Fremont_Street_Experience_Las_Vegas.jpg/1280px-Fremont_Street_Experience_Las_Vegas.jpg",\n          "geoCoordinates": "36.1694, -115.1418",\n          "ticketPricing": "Free",\n          "rating": 4.5,\n          "bestTimeToVisit": "All day"\n        },\n        {\n          "time": "12:00 PM",\n          "placeName": "The Golden Nugget",\n          "placeDetails": "Try the Herd restaurant for delicious casual bites.",\n          "placeImageURL": "https://www.golden nugget.com/las-vegas/media/images/hotel/exterior/exterior.jpg",\n          "geoCoordinates": "36.1695, -115.1416",\n          "ticketPricing": "$15-$30",\n          "rating": 4.5,\n          "bestTimeToVisit": "Lunchtime"\n        },\n        {\n          "time": "1:00 PM",\n          "placeName": "Gold & Silver Pawn Shop",\n          "placeDetails": "Explore the shop from the popular TV show \'Pawn Stars\'.",\n          "placeImageURL": "https://upload.wikimedia.org/wikipedia/commons/thumb/c/cc/Gold_%26_Silver_Pawn_Shop_Las_Vegas.jpg/1280px-Gold_%26_Silver_Pawn_Shop_Las_Vegas.jpg",\n          "geoCoordinates": "36.1696, -115.1433",\n          "ticketPricing": "Free",\n          "rating": 4.0,\n          "bestTimeToVisit": "Afternoon"\n        },\n        {\n          "time": "5:00 PM",\n          "placeName": "Binion\'s Gambling Hall",\n          "placeDetails": "Enjoy happy hour for their famous cocktails and appetizers.",\n          "placeImageURL": "https://www.binions.com/wp-content/uploads/2021/08/Binions-Exterior-768x432.jpg",\n          "geoCoordinates": "36.1693, -115.1429",\n          "ticketPricing": "Varying prices for drinks and food",\n          "rating": 4.0,\n          "bestTimeToVisit": "Evening"\n        },\n        {\n          "time": "7:00 PM",\n          "placeName": "The Fremont Street Cafe",\n          "placeDetails": "Have dinner for a taste of authentic Las Vegas cuisine.",\n          "placeImageURL": "https://www.thefremontstreetcafe.com/images/fremont_street_cafe_las_vegas_nv_dining_04.jpg",\n          "geoCoordinates": "36.1699, -115.1420",\n          "ticketPricing": "$20-$40",\n          "rating": 4.0,\n          "bestTimeToVisit": "Dinner"\n        }\n      ]\n    },\n    {\n      "day": 2,\n      "dayPlan": [\n        {\n          "time": "10:00 AM",\n          "placeName": "Las Vegas Strip",\n          "placeDetails": "Take a free shuttle bus from Downtown to the Strip.",\n          "placeImageURL": "https://upload.wikimedia.org/wikipedia/commons/thumb/b/b2/Las_Vegas_Strip_Night.jpg/1280px-Las_Vegas_Strip_Night.jpg",\n          "geoCoordinates": "36.1135, -115.1735",\n          "ticketPricing": "Free",\n          "rating": 5.0,\n          "bestTimeToVisit": "All day"\n        },\n        {\n          "time": "11:00 AM",\n          "placeName": "Bellagio Fountains",\n          "placeDetails": "Admire the iconic hotels and take pictures with the Bellagio Fountains during a show.",\n          "placeImageURL": "https://upload.wikimedia.org/wikipedia/commons/thumb/a/a9/Bellagio_Fountains_Show.jpg/1280px-Bellagio_Fountains_Show.jpg",\n          "geoCoordinates": "36.1106, -115.1716",\n          "ticketPricing": "Free",\n          "rating": 4.5,\n          "bestTimeToVisit": "Afternoon"\n        },\n        {\n          "time": "1:00 PM",\n          "placeName": "Food Court in New York New York Hotel",\n          "placeDetails": "Enjoy lunch for diverse and affordable options.",\n          "placeImageURL": "https://www.newyorknewyork.com/media/images/hotel/exterior/main-exterior-daytime-01.jpg",\n          "geoCoordinates": "36.1006, -115.1709",\n          "ticketPricing": "$10-$20",\n          "rating": 4.0,\n          "bestTimeToVisit": "Lunchtime"\n        },\n        {\n          "time": "2:00 PM",\n          "placeName": "High Roller Observation Wheel",\n          "placeDetails": "Experience panoramic views of the city.",\n          "placeImageURL": "https://upload.wikimedia.org/wikipedia/commons/thumb/c/c8/High_Roller_Observation_Wheel_Las_Vegas_2014.jpg/1280px-High_Roller_Observation_Wheel_Las_Vegas_2014.jpg",\n          "geoCoordinates": "36.1198, -115.1732",\n          "ticketPricing": "$30-$40",\n          "rating": 4.5,\n          "bestTimeToVisit": "Afternoon"\n        },\n        {\n          "time": "5:00 PM",\n          "placeName": "The LINQ Promenade",\n          "placeDetails": "Enjoy a stroll, people watch, and grab drinks or snacks.",\n          "placeImageURL": "https://www.caesars.com/content/dam/caesars-entertainment/linq/images/linq-promenade-exterior-daytime-01.jpg",\n          "geoCoordinates": "36.1203, -115.1743",\n          "ticketPricing": "Free",\n          "rating": 4.0,\n          "bestTimeToVisit": "Late afternoon"\n        },\n        {\n          "time": "7:00 PM",\n          "placeName": "In-N-Out Burger",\n          "placeDetails": "Enjoy a casual and affordable dinner.",\n          "placeImageURL": "https://upload.wikimedia.org/wikipedia/commons/thumb/8/85/In-N-Out_Burger_Logo.svg/1200px-In-N-Out_Burger_Logo.svg.png",\n          "geoCoordinates": "36.1186, -115.1735",\n          "ticketPricing": "$10-$20",\n          "rating": 4.0,\n          "bestTimeToVisit": "Dinner"\n        }\n      ]\n    },\n    {\n      "day": 3,\n      "dayPlan": [\n        {\n          "time": "10:00 AM",\n          "placeName": "Neon Museum",\n          "placeDetails": "Explore the history of Las Vegas\' iconic neon signs.",\n          "placeImageURL": "https://www.neonmuseum.org/wp-content/uploads/2020/06/neon-museum-las-vegas-main-sign-1024x576.jpg",\n          "geoCoordinates": "36.1654, -115.1469",\n          "ticketPricing": "$20-$30",\n          "rating": 4.5,\n          "bestTimeToVisit": "Morning"\n        },\n        {\n          "time": "12:00 PM",\n          "placeName": "The Arts District",\n          "placeDetails": "Explore galleries, murals, and local shops.",\n          "placeImageURL": "https://upload.wikimedia.org/wikipedia/commons/thumb/d/d3/Las_Vegas_Arts_District_01.jpg/1280px-Las_Vegas_Arts_District_01.jpg",\n          "geoCoordinates": "36.1650, -115.1386",\n          "ticketPricing": "Free",\n          "rating": 4.0,\n          "bestTimeToVisit": "Afternoon"\n        },\n        {\n          "time": "2:00 PM",\n          "placeName": "Downtown Container Park",\n          "placeDetails": "Unique shops and restaurants housed in repurposed shipping containers.",\n          "placeImageURL": "https://www.downtowncontainerpark.com/media/images/container_park/exterior/main-exterior-daytime-01.jpg",\n          "geoCoordinates": "36.1676, -115.1410",\n          "ticketPricing": "Free",\n          "rating": 4.0,\n          "bestTimeToVisit": "Afternoon"\n        },\n        {\n          "time": "4:00 PM",\n          "placeName": "The Mob Museum",\n          "placeDetails": "Learn about the history of organized crime in Las Vegas.",\n          "placeImageURL": "https://www.themobmuseum.org/media/images/museum/exterior/main-exterior-daytime-01.jpg",\n          "geoCoordinates": "36.1693, -115.1441",\n          "ticketPricing": "$25-$35",\n          "rating": 4.5,\n          "bestTimeToVisit": "Late afternoon"\n        },\n        {\n          "time": "7:00 PM",\n          "placeName": "Buffet at a Casino",\n          "placeDetails": "Enjoy a final affordable dinner at a casino buffet.",\n          "placeImageURL": "https://www.casino.com/casino-images/casino-buffet-food-spread-1.jpg",\n          "geoCoordinates": "Varying locations",\n          "ticketPricing": "$20-$40",\n          "rating": 3.5,\n          "bestTimeToVisit": "Dinner"\n        }\n      ]\n    }\n  ]\n}\n```\n\n**Explanation:**\n\nThis JSON format provides a clear and structured layout for the Las Vegas trip plan, including:\n\n* **Location**: Las Vegas\n* **Trip Duration**: 3 Days\n* **Budget**: Cheap\n* **Travelers**: Couple\n* **Hotels**: A list of affordable hotel options with detailed information like name, address, price, image URL, geo-coordinates, rating, and description.\n* **Itinerary**: \n    * **Day**: Each day is separated for easy reference.\n    * **Day Plan**: Activities and places to visit are listed with timings.\n    * **Time**: The specific time of each activity.\n    * **PlaceName**: The name of the place.\n    * **PlaceDetails**: A short description of the place.\n    * **PlaceImageURL**: A link to an image of the place.\n    * **GeoCoordinates**:  The latitude and longitude for easy location finding.\n    * **TicketPricing**: Estimated price range for entry or tickets.\n    * **Rating**:  A general rating of the place.\n    * **BestTimeToVisit**: Suggested time of day for the activity.\n\nThis format allows you to easily copy and paste this information, share it with your partner, and use it as a guide for planning your budget-friendly trip to Las Vegas. \n',
        },
      ],
    },
  ],
})

// const result = await chatSession.sendMessage('INSERT_INPUT_HERE')
// console.log(result.response.text())
